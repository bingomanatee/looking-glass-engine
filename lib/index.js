!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).LGE=e()}(this,(function(){"use strict";function t(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if("production"!==process.env.NODE_ENV){var o=q[t],i=o?"function"==typeof o?o.apply(null,r):o:"unknown error nr: "+t;throw Error("[Immer] "+i)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function e(t){return!!t&&!!t[V]}function r(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||Array.isArray(t)||!!t[F]||!!t.constructor[F]||u(t)||a(t))}function n(t,e,r){void 0===r&&(r=!1),0===o(t)?(r?Object.keys:U)(t).forEach((function(n){r&&"symbol"==typeof n||e(n,t[n],t)})):t.forEach((function(r,n){return e(n,r,t)}))}function o(t){var e=t[V];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:u(t)?2:a(t)?3:0}function i(t,e){return 2===o(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function s(t,e,r){var n=o(t);2===n?t.set(e,r):3===n?(t.delete(e),t.add(r)):t[e]=r}function u(t){return C&&t instanceof Map}function a(t){return z&&t instanceof Set}function c(t){return t.o||t.t}function f(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=H(t);delete e[V];for(var r=U(e),n=0;n<r.length;n++){var o=r[n],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function h(t,i){return void 0===i&&(i=!1),p(t)||e(t)||!r(t)||(o(t)>1&&(t.set=t.add=t.clear=t.delete=l),Object.freeze(t),i&&n(t,(function(t,e){return h(e,!0)}),!0)),t}function l(){t(2)}function p(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function v(e){var r=G[e];return r||t(18,e),r}function d(){return"production"===process.env.NODE_ENV||R||t(0),R}function b(t,e){e&&(v("Patches"),t.u=[],t.s=[],t.v=e)}function y(t){_(t),t.p.forEach(m),t.p=null}function _(t){t===R&&(R=t.l)}function g(t){return R={p:[],l:R,h:t,m:!0,_:0}}function m(t){var e=t[V];0===e.i||1===e.i?e.j():e.g=!0}function w(e,n){n._=n.p.length;var o=n.p[0],i=void 0!==e&&e!==o;return n.h.O||v("ES5").S(n,e,i),i?(o[V].P&&(y(n),t(4)),r(e)&&(e=E(n,e),n.l||j(n,e)),n.u&&v("Patches").M(o[V],e,n.u,n.s)):e=E(n,o,[]),y(n),n.u&&n.v(n.u,n.s),e!==L?e:void 0}function E(t,e,r){if(p(e))return e;var o=e[V];if(!o)return n(e,(function(n,i){return S(t,o,e,n,i,r)}),!0),e;if(o.A!==t)return e;if(!o.P)return j(t,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var i=4===o.i||5===o.i?o.o=f(o.k):o.o;n(3===o.i?new Set(i):i,(function(e,n){return S(t,o,i,e,n,r)})),j(t,i,!1),r&&t.u&&v("Patches").R(o,r,t.u,t.s)}return o.o}function S(n,o,u,a,c,f){if("production"!==process.env.NODE_ENV&&c===u&&t(5),e(c)){var h=E(n,c,f&&o&&3!==o.i&&!i(o.D,a)?f.concat(a):void 0);if(s(u,a,h),!e(h))return;n.m=!1}if(r(c)&&!p(c)){if(!n.h.N&&n._<1)return;E(n,c),o&&o.A.l||j(n,c)}}function j(t,e,r){void 0===r&&(r=!1),t.h.N&&t.m&&h(e,r)}function O(t,e){var r=t[V];return(r?c(r):t)[e]}function x(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function P(t){t.P||(t.P=!0,t.l&&P(t.l))}function A(t){t.o||(t.o=f(t.t))}function T(t,e,r){var n=u(e)?v("MapSet").T(e,r):a(e)?v("MapSet").F(e,r):t.O?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:d(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},o=n,i=Y;r&&(o=[n],i=W);var s=Proxy.revocable(o,i),u=s.revoke,a=s.proxy;return n.k=a,n.j=u,a}(e,r):v("ES5").J(e,r);return(r?r.A:d()).p.push(n),n}function M(i){return e(i)||t(22,i),function t(e){if(!r(e))return e;var i,u=e[V],a=o(e);if(u){if(!u.P&&(u.i<4||!v("ES5").K(u)))return u.t;u.I=!0,i=I(e,a),u.I=!1}else i=I(e,a);return n(i,(function(e,r){u&&function(t,e){return 2===o(t)?t.get(e):t[e]}(u.t,e)===r||s(i,e,t(r))})),3===a?new Set(i):i}(i)}function I(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return f(t)}var D,R,N="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),C="undefined"!=typeof Map,z="undefined"!=typeof Set,k="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,L=N?Symbol.for("immer-nothing"):((D={})["immer-nothing"]=!0,D),F=N?Symbol.for("immer-draftable"):"__$immer_draftable",V=N?Symbol.for("immer-state"):"__$immer_state",$="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",q={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t}},U="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,H=Object.getOwnPropertyDescriptors||function(t){var e={};return U(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},G={},Y={get:function(t,e){if(e===V)return t;var n=c(t);if(!i(n,e))return function(t,e,r){var n,o=x(e,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(t.k):void 0}(t,n,e);var o=n[e];return t.I||!r(o)?o:o===O(t.t,e)?(A(t),t.o[e]=T(t.A.h,o,t)):o},has:function(t,e){return e in c(t)},ownKeys:function(t){return Reflect.ownKeys(c(t))},set:function(t,e,r){var n=x(c(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var o=O(c(t),e),s=null==o?void 0:o[V];if(s&&s.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(r,o)&&(void 0!==r||i(t.t,e)))return!0;A(t),P(t)}return t.o[e]=r,t.D[e]=!0,!0},deleteProperty:function(t,e){return void 0!==O(t.t,e)||e in t.t?(t.D[e]=!1,A(t),P(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=c(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){t(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){t(12)}},W={};n(Y,(function(t,e){W[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),W.deleteProperty=function(e,r){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&t(13),Y.deleteProperty.call(this,e[0],r)},W.set=function(e,r,n){return"production"!==process.env.NODE_ENV&&"length"!==r&&isNaN(parseInt(r))&&t(14),Y.set.call(this,e[0],r,n,e[0])};var B=new(function(){function n(t){this.O=k,this.N=!0,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var o=n.prototype;return o.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var s=this;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return s.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(o))}))}}var u;if("function"!=typeof n&&t(6),void 0!==o&&"function"!=typeof o&&t(7),r(e)){var a=g(this),c=T(this,e,void 0),f=!0;try{u=n(c),f=!1}finally{f?y(a):_(a)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(t){return b(a,o),w(t,a)}),(function(t){throw y(a),t})):(b(a,o),w(u,a))}if(!e||"object"!=typeof e){if((u=n(e))===L)return;return void 0===u&&(u=e),this.N&&h(u,!0),u}t(21,e)},o.produceWithPatches=function(t,e){var r,n,o=this;return"function"==typeof t?function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(n))}))}:[this.produce(t,e,(function(t,e){r=t,n=e})),r,n]},o.createDraft=function(n){r(n)||t(8),e(n)&&(n=M(n));var o=g(this),i=T(this,n,void 0);return i[V].C=!0,_(o),i},o.finishDraft=function(e,r){var n=e&&e[V];"production"!==process.env.NODE_ENV&&(n&&n.C||t(9),n.I&&t(10));var o=n.A;return b(o,r),w(void 0,o)},o.setAutoFreeze=function(t){this.N=t},o.setUseProxies=function(e){e&&!k&&t(20),this.O=e},o.applyPatches=function(t,r){var n;for(n=r.length-1;n>=0;n--){var o=r[n];if(0===o.path.length&&"replace"===o.op){t=o.value;break}}var i=v("Patches").$;return e(t)?i(t,r):this.produce(t,(function(t){return i(t,r.slice(n+1))}))},n}()),K=(B.produceWithPatches.bind(B),B.setAutoFreeze.bind(B),B.setUseProxies.bind(B),B.applyPatches.bind(B),B.createDraft.bind(B),B.finishDraft.bind(B),function(t,e){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function J(t,e){function r(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function X(t){return"function"==typeof t}var Q=!1,Z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;Q=t},get useDeprecatedSynchronousErrorHandling(){return Q}};function tt(t){setTimeout((function(){throw t}),0)}var et={closed:!0,next:function(t){},error:function(t){if(Z.useDeprecatedSynchronousErrorHandling)throw t;tt(t)},complete:function(){}},rt=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function nt(t){return null!==t&&"object"==typeof t}var ot=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),it=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this._parentOrParents,n=this._ctorUnsubscribe,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s){r[s].remove(this)}if(X(o)){n&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof ot?st(t.errors):[t]}}if(rt(i)){s=-1;for(var u=i.length;++s<u;){var a=i[s];if(nt(a))try{a.unsubscribe()}catch(t){e=e||[],t instanceof ot?e=e.concat(st(t.errors)):e.push(t)}}}if(e)throw new ot(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function st(t){return t.reduce((function(t,e){return t.concat(e instanceof ot?e.errors:e)}),[])}var ut=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),at=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=et;break;case 1:if(!r){i.destination=et;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new ct(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new ct(i,r,n,o)}return i}return J(e,t),e.prototype[ut]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(it),ct=function(t){function e(e,r,n,o){var i,s=t.call(this)||this;s._parentSubscriber=e;var u=s;return X(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==et&&(X((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=i,s._error=n,s._complete=o,s}return J(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Z.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=Z.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):tt(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;tt(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};Z.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Z.useDeprecatedSynchronousErrorHandling)throw t;tt(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!Z.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return Z.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(tt(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(at);var ft=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function ht(t){return t}function lt(t){return 0===t.length?ht:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var pt=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof at)return t;if(t[ut])return t[ut]()}return t||e||r?new at(t,e,r):new at(et)}(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||Z.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Z.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Z.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof at?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=vt(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[ft]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:lt(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=vt(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function vt(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var dt=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),bt=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return J(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(it),yt=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return J(e,t),e}(at),_t=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return J(e,t),e.prototype[ut]=function(){return new yt(this)},e.prototype.lift=function(t){var e=new gt(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new dt;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new dt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new dt;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new dt;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new dt;return this.hasError?(t.error(this.thrownError),it.EMPTY):this.isStopped?(t.complete(),it.EMPTY):(this.observers.push(t),new bt(this,t))},e.prototype.asObservable=function(){var t=new pt;return t.source=this,t},e.create=function(t,e){return new gt(t,e)},e}(pt),gt=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return J(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):it.EMPTY},e}(_t),mt=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return J(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new dt;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(_t);function wt(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Et(t,e))}}var Et=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new St(t,this.project,this.thisArg))},t}(),St=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return J(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(at),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(at),Ot=function(t){function e(e,r,n){var o=t.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=n,o.index=0,o}return J(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(at);function xt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Pt=xt(),At=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Tt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Mt=function(t){if(t&&"function"==typeof t[ft])return o=t,function(t){var e=o[ft]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(At(t))return n=t,function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()};if(Tt(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,tt),t};if(t&&"function"==typeof t[Pt])return e=t,function(t){for(var r=e[Pt]();;){var n=void 0;try{n=r.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,n,o,i=nt(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function It(t,e,r,n,o){if(void 0===o&&(o=new Ot(t,r,n)),!o.closed)return e instanceof pt?e.subscribe(o):Mt(e)(o)}var Dt={},Rt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Nt(t,this.resultSelector))},t}(),Nt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return J(e,t),e.prototype._next=function(t){this.values.push(Dt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(It(this,n,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var n=this.values,o=n[r],i=this.toRespond?o===Dt?--this.toRespond:this.toRespond:0;n[r]=e,0===i&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(jt);function Ct(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[ft]}(t))return function(t,e){return new pt((function(r){var n=new it;return n.add(e.schedule((function(){var o=t[ft]();n.add(o.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}(t,e);if(Tt(t))return function(t,e){return new pt((function(r){var n=new it;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}(t,e);if(At(t))return function(t,e){return new pt((function(r){var n=new it,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}(t,e);if(function(t){return t&&"function"==typeof t[Pt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new pt((function(r){var n,o=new it;return o.add((function(){n&&"function"==typeof n.return&&n.return()})),o.add(e.schedule((function(){n=t[Pt](),o.add(e.schedule((function(){if(!r.closed){var t,e;try{var o=n.next();t=o.value,e=o.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function zt(t,e){return e?Ct(t,e):t instanceof pt?t:new pt(Mt(t))}var kt=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return J(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(at),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(at);function Ft(t,e){if(!e.closed)return t instanceof pt?t.subscribe(e):Mt(t)(e)}function Vt(t,e){return function(r){return r.lift(new $t(t,e))}}var $t=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new qt(t,this.predicate,this.thisArg))},t}(),qt=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return J(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(at);var Ut=function(){this.__data__=[],this.size=0};var Ht=function(t,e){return t===e||t!=t&&e!=e};var Gt=function(t,e){for(var r=t.length;r--;)if(Ht(t[r][0],e))return r;return-1},Yt=Array.prototype.splice;var Wt=function(t){var e=this.__data__,r=Gt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Yt.call(e,r,1),--this.size,!0)};var Bt=function(t){var e=this.__data__,r=Gt(e,t);return r<0?void 0:e[r][1]};var Kt=function(t){return Gt(this.__data__,t)>-1};var Jt=function(t,e){var r=this.__data__,n=Gt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Xt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xt.prototype.clear=Ut,Xt.prototype.delete=Wt,Xt.prototype.get=Bt,Xt.prototype.has=Kt,Xt.prototype.set=Jt;var Qt=Xt;var Zt=function(){this.__data__=new Qt,this.size=0};var te=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var ee=function(t){return this.__data__.get(t)};var re=function(t){return this.__data__.has(t)},ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function oe(t,e){return t(e={exports:{}},e.exports),e.exports}var ie="object"==typeof ne&&ne&&ne.Object===Object&&ne,se="object"==typeof self&&self&&self.Object===Object&&self,ue=ie||se||Function("return this")(),ae=ue.Symbol,ce=Object.prototype,fe=ce.hasOwnProperty,he=ce.toString,le=ae?ae.toStringTag:void 0;var pe=function(t){var e=fe.call(t,le),r=t[le];try{t[le]=void 0;var n=!0}catch(t){}var o=he.call(t);return n&&(e?t[le]=r:delete t[le]),o},ve=Object.prototype.toString;var de=function(t){return ve.call(t)},be=ae?ae.toStringTag:void 0;var ye=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":be&&be in Object(t)?pe(t):de(t)};var _e=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var ge,me=function(t){if(!_e(t))return!1;var e=ye(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},we=ue["__core-js_shared__"],Ee=(ge=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+ge:"";var Se=function(t){return!!Ee&&Ee in t},je=Function.prototype.toString;var Oe=function(t){if(null!=t){try{return je.call(t)}catch(t){}try{return t+""}catch(t){}}return""},xe=/^\[object .+?Constructor\]$/,Pe=Function.prototype,Ae=Object.prototype,Te=Pe.toString,Me=Ae.hasOwnProperty,Ie=RegExp("^"+Te.call(Me).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var De=function(t){return!(!_e(t)||Se(t))&&(me(t)?Ie:xe).test(Oe(t))};var Re=function(t,e){return null==t?void 0:t[e]};var Ne=function(t,e){var r=Re(t,e);return De(r)?r:void 0},Ce=Ne(ue,"Map"),ze=Ne(Object,"create");var ke=function(){this.__data__=ze?ze(null):{},this.size=0};var Le=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Fe=Object.prototype.hasOwnProperty;var Ve=function(t){var e=this.__data__;if(ze){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Fe.call(e,t)?e[t]:void 0},$e=Object.prototype.hasOwnProperty;var qe=function(t){var e=this.__data__;return ze?void 0!==e[t]:$e.call(e,t)};var Ue=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ze&&void 0===e?"__lodash_hash_undefined__":e,this};function He(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}He.prototype.clear=ke,He.prototype.delete=Le,He.prototype.get=Ve,He.prototype.has=qe,He.prototype.set=Ue;var Ge=He;var Ye=function(){this.size=0,this.__data__={hash:new Ge,map:new(Ce||Qt),string:new Ge}};var We=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Be=function(t,e){var r=t.__data__;return We(e)?r["string"==typeof e?"string":"hash"]:r.map};var Ke=function(t){var e=Be(this,t).delete(t);return this.size-=e?1:0,e};var Je=function(t){return Be(this,t).get(t)};var Xe=function(t){return Be(this,t).has(t)};var Qe=function(t,e){var r=Be(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Ze(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ze.prototype.clear=Ye,Ze.prototype.delete=Ke,Ze.prototype.get=Je,Ze.prototype.has=Xe,Ze.prototype.set=Qe;var tr=Ze;var er=function(t,e){var r=this.__data__;if(r instanceof Qt){var n=r.__data__;if(!Ce||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new tr(n)}return r.set(t,e),this.size=r.size,this};function rr(t){var e=this.__data__=new Qt(t);this.size=e.size}rr.prototype.clear=Zt,rr.prototype.delete=te,rr.prototype.get=ee,rr.prototype.has=re,rr.prototype.set=er;var nr=rr;var or=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var ir=function(t){return this.__data__.has(t)};function sr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new tr;++e<r;)this.add(t[e])}sr.prototype.add=sr.prototype.push=or,sr.prototype.has=ir;var ur=sr;var ar=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var cr=function(t,e){return t.has(e)};var fr=function(t,e,r,n,o,i){var s=1&r,u=t.length,a=e.length;if(u!=a&&!(s&&a>u))return!1;var c=i.get(t),f=i.get(e);if(c&&f)return c==e&&f==t;var h=-1,l=!0,p=2&r?new ur:void 0;for(i.set(t,e),i.set(e,t);++h<u;){var v=t[h],d=e[h];if(n)var b=s?n(d,v,h,e,t,i):n(v,d,h,t,e,i);if(void 0!==b){if(b)continue;l=!1;break}if(p){if(!ar(e,(function(t,e){if(!cr(p,e)&&(v===t||o(v,t,r,n,i)))return p.push(e)}))){l=!1;break}}else if(v!==d&&!o(v,d,r,n,i)){l=!1;break}}return i.delete(t),i.delete(e),l},hr=ue.Uint8Array;var lr=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var pr=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},vr=ae?ae.prototype:void 0,dr=vr?vr.valueOf:void 0;var br=function(t,e,r,n,o,i,s){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new hr(t),new hr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ht(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=lr;case"[object Set]":var a=1&n;if(u||(u=pr),t.size!=e.size&&!a)return!1;var c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);var f=fr(u(t),u(e),n,o,i,s);return s.delete(t),f;case"[object Symbol]":if(dr)return dr.call(t)==dr.call(e)}return!1};var yr=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},_r=Array.isArray;var gr=function(t,e,r){var n=e(t);return _r(t)?n:yr(n,r(t))};var mr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i};var wr=function(){return[]},Er=Object.prototype.propertyIsEnumerable,Sr=Object.getOwnPropertySymbols,jr=Sr?function(t){return null==t?[]:(t=Object(t),mr(Sr(t),(function(e){return Er.call(t,e)})))}:wr;var Or=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var xr=function(t){return null!=t&&"object"==typeof t};var Pr=function(t){return xr(t)&&"[object Arguments]"==ye(t)},Ar=Object.prototype,Tr=Ar.hasOwnProperty,Mr=Ar.propertyIsEnumerable,Ir=Pr(function(){return arguments}())?Pr:function(t){return xr(t)&&Tr.call(t,"callee")&&!Mr.call(t,"callee")};var Dr=function(){return!1},Rr=oe((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?ue.Buffer:void 0,i=(o?o.isBuffer:void 0)||Dr;t.exports=i})),Nr=/^(?:0|[1-9]\d*)$/;var Cr=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Nr.test(t))&&t>-1&&t%1==0&&t<e};var zr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},kr={};kr["[object Float32Array]"]=kr["[object Float64Array]"]=kr["[object Int8Array]"]=kr["[object Int16Array]"]=kr["[object Int32Array]"]=kr["[object Uint8Array]"]=kr["[object Uint8ClampedArray]"]=kr["[object Uint16Array]"]=kr["[object Uint32Array]"]=!0,kr["[object Arguments]"]=kr["[object Array]"]=kr["[object ArrayBuffer]"]=kr["[object Boolean]"]=kr["[object DataView]"]=kr["[object Date]"]=kr["[object Error]"]=kr["[object Function]"]=kr["[object Map]"]=kr["[object Number]"]=kr["[object Object]"]=kr["[object RegExp]"]=kr["[object Set]"]=kr["[object String]"]=kr["[object WeakMap]"]=!1;var Lr=function(t){return xr(t)&&zr(t.length)&&!!kr[ye(t)]};var Fr=function(t){return function(e){return t(e)}},Vr=oe((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&ie.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),$r=Vr&&Vr.isTypedArray,qr=$r?Fr($r):Lr,Ur=Object.prototype.hasOwnProperty;var Hr=function(t,e){var r=_r(t),n=!r&&Ir(t),o=!r&&!n&&Rr(t),i=!r&&!n&&!o&&qr(t),s=r||n||o||i,u=s?Or(t.length,String):[],a=u.length;for(var c in t)!e&&!Ur.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Cr(c,a))||u.push(c);return u},Gr=Object.prototype;var Yr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Gr)};var Wr=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Br=Object.prototype.hasOwnProperty;var Kr=function(t){if(!Yr(t))return Wr(t);var e=[];for(var r in Object(t))Br.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Jr=function(t){return null!=t&&zr(t.length)&&!me(t)};var Xr=function(t){return Jr(t)?Hr(t):Kr(t)};var Qr=function(t){return gr(t,Xr,jr)},Zr=Object.prototype.hasOwnProperty;var tn=function(t,e,r,n,o,i){var s=1&r,u=Qr(t),a=u.length;if(a!=Qr(e).length&&!s)return!1;for(var c=a;c--;){var f=u[c];if(!(s?f in e:Zr.call(e,f)))return!1}var h=i.get(t),l=i.get(e);if(h&&l)return h==e&&l==t;var p=!0;i.set(t,e),i.set(e,t);for(var v=s;++c<a;){var d=t[f=u[c]],b=e[f];if(n)var y=s?n(b,d,f,e,t,i):n(d,b,f,t,e,i);if(!(void 0===y?d===b||o(d,b,r,n,i):y)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var _=t.constructor,g=e.constructor;_==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(p=!1)}return i.delete(t),i.delete(e),p},en=Ne(ue,"DataView"),rn=Ne(ue,"Promise"),nn=Ne(ue,"Set"),on=Ne(ue,"WeakMap"),sn=Oe(en),un=Oe(Ce),an=Oe(rn),cn=Oe(nn),fn=Oe(on),hn=ye;(en&&"[object DataView]"!=hn(new en(new ArrayBuffer(1)))||Ce&&"[object Map]"!=hn(new Ce)||rn&&"[object Promise]"!=hn(rn.resolve())||nn&&"[object Set]"!=hn(new nn)||on&&"[object WeakMap]"!=hn(new on))&&(hn=function(t){var e=ye(t),r="[object Object]"==e?t.constructor:void 0,n=r?Oe(r):"";if(n)switch(n){case sn:return"[object DataView]";case un:return"[object Map]";case an:return"[object Promise]";case cn:return"[object Set]";case fn:return"[object WeakMap]"}return e});var ln=hn,pn=Object.prototype.hasOwnProperty;var vn=function(t,e,r,n,o,i){var s=_r(t),u=_r(e),a=s?"[object Array]":ln(t),c=u?"[object Array]":ln(e),f="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a),h="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),l=a==c;if(l&&Rr(t)){if(!Rr(e))return!1;s=!0,f=!1}if(l&&!f)return i||(i=new nr),s||qr(t)?fr(t,e,r,n,o,i):br(t,e,a,r,n,o,i);if(!(1&r)){var p=f&&pn.call(t,"__wrapped__"),v=h&&pn.call(e,"__wrapped__");if(p||v){var d=p?t.value():t,b=v?e.value():e;return i||(i=new nr),o(d,b,r,n,i)}}return!!l&&(i||(i=new nr),tn(t,e,r,n,o,i))};var dn=function t(e,r,n,o,i){return e===r||(null==e||null==r||!xr(e)&&!xr(r)?e!=e&&r!=r:vn(e,r,n,o,t,i))};var bn=function(t,e){return dn(t,e)};var yn=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new _n(t,this.selector,this.caught))},t}(),_n=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.selector=r,o.caught=n,o}return J(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var n=new kt(this);this.add(n);var o=Ft(r,n);o!==n&&this.add(o)}},e}(Lt);var gn=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new mn(t,this.project))},t}(),mn=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return J(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new kt(this),n=this.destination;n.add(r),this.innerSubscription=Ft(t,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(Lt);var wn=function(t){return"symbol"==typeof t||xr(t)&&"[object Symbol]"==ye(t)},En=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sn=/^\w*$/;var jn=function(t,e){if(_r(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!wn(t))||(Sn.test(t)||!En.test(t)||null!=e&&t in Object(e))};function On(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(On.Cache||tr),r}On.Cache=tr;var xn=On;var Pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,An=/\\(\\)?/g,Tn=function(t){var e=xn(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pn,(function(t,r,n,o){e.push(n?o.replace(An,"$1"):r||t)})),e}));var Mn=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},In=ae?ae.prototype:void 0,Dn=In?In.toString:void 0;var Rn=function t(e){if("string"==typeof e)return e;if(_r(e))return Mn(e,t)+"";if(wn(e))return Dn?Dn.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};var Nn=function(t){return null==t?"":Rn(t)};var Cn=function(t,e){return _r(t)?t:jn(t,e)?[t]:Tn(Nn(t))};var zn=function(t){if("string"==typeof t||wn(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var kn=function(t,e){for(var r=0,n=(e=Cn(e,t)).length;null!=t&&r<n;)t=t[zn(e[r++])];return r&&r==n?t:void 0};var Ln=function(t,e,r){var n=null==t?void 0:kn(t,e);return void 0===n?r:n};const Fn="A_SET",Vn=["E_INITIAL","E_RESTRICT","E_FILTER","E_VALIDATE","E_PRECOMMIT","E_COMMIT","E_COMPLETE"],$n=new Map([["next",["E_INITIAL","E_FILTER","E_VALIDATE","E_PRECOMMIT","E_COMMIT","E_COMPLETE"]],[Fn,[...Vn]],["A_ANY",["E_INITIAL","E_COMMIT","E_COMPLETE"]]]),qn=["E_INITIAL","E_FILTER","E_VALIDATE","E_PRE_MAP_MERGE","E_MAP_MERGE","E_PRECOMMIT","E_COMMIT","E_COMPLETE"],Un="ABSENT",Hn=Un,Gn=(t,e)=>Object.assign(new Error(t),{meta:e}),Yn=t=>{if(!t)return new Map;if(t instanceof Map)return t;const e=new Map;return"object"==typeof t?([...Object.keys(t)].forEach(r=>e.set(r,t[r])),e):e};var Wn=Object.freeze({__proto__:null,E_INITIAL:"E_INITIAL",E_FILTER:"E_FILTER",E_VALIDATE:"E_VALIDATE",E_PRECOMMIT:"E_PRECOMMIT",E_PRE_MAP_MERGE:"E_PRE_MAP_MERGE",E_MAP_MERGE:"E_MAP_MERGE",E_COMMIT:"E_COMMIT",E_COMPLETE:"E_COMPLETE",E_RESTRICT:"E_RESTRICT",A_NEXT:"next",A_ANY:"A_ANY",A_ACTION:"A_ACTION",A_SET:Fn,setEvents:Vn,defaultEventTree:$n,mapNextEvents:qn,ABSENT:Un,"Å":Hn,"eqÅ":(t,e)=>void 0===e||e===Hn||t===e,e:Gn,toMap:Yn});class Bn{constructor(t,e,r,n){this[F]=!0,"object"==typeof t?this._initParams(t):this._initArgs(t,e,r,n)}_initParams({action:t=Un,valueStream:e=Un,stage:r=Un}){this._initArgs(t,e,r)}_initArgs(t=Hn,e=Hn,r=Hn,n=Hn){this.action=t,this.valueStream=e,this.stage=r,this.target=n}get value(){return this.activeStream?this.valueStream.getValue():Hn}get activeStream(){return!this.valueStream.isStopped&&!this.valueStream.hasError}get isStopped(){return this.valueStream.isStopped}next(t){if(!this.activeStream)throw Gn("attempt to update a stalled stream",this);this.valueStream.next(t)}error(t){this.activeStream?this.valueStream.error(t):console.error("cannot register an error on suspended stream",t,this)}complete(){this.valueStream&&this.valueStream.complete()}subscribe(...t){if(this.valueStream)return this.valueStream.subscribe(...t);throw Gn("attempted to subscribe to a stream-less Event",this)}toString(){const t=["<<"];return this.action!==Hn&&t.push("action: ",this.action.toString()),this.stage!==Hn&&t.push("stage:",this.stage.toString()),this.value!==Hn&&t.push("value",this.value.toString()),t.push(">>"),t.join(" ")}}Bn[F]=!0,Bn.toEvent=t=>t?t instanceof Bn?t:Array.isArray(t)?new Bn(...t):new Bn(t):new Bn({});class Kn{constructor(t,e,r,n){this[F]=!0,"object"==typeof t?this._initParams(t):this._initArgs(t,e,r,n)}_initArgs(t=Hn,e=Hn,r=Hn,n=Hn){this.action=t,this.value=e,this.stage=r,this.target=n}_initParams({action:t=Un,valueStream:e=Un,stage:r=Un}){this._initArgs(t,e,r)}_matches(t,e,r){const n=Ln(this,e);if(n===Hn)return!0;if(t instanceof Kn)return console.error("comparing two EventFilters",this,t),!1;if(t instanceof Bn)return this._matches(Ln(t,e),e);if(r){const r=Ln(t,e,Hn);if(r!==Hn)return this._matches(r,e)}return"function"==typeof n?n(t,this):t===n}valueMatches(t,e){return this._matches(t,"value",e)}stageMatches(t,e){return this._matches(t,"stage",e)}nameMatches(t,e){return this._matches(t,"action",e)}matches(t,e){return this.nameMatches(t,e)&&this.stageMatches(t,e)&&this.valueMatches(t,e)}_equals(t,e,r){if(t instanceof Kn)return console.error("comparing two EventFilters",this,t),!1;if(t instanceof Bn)return this._equals(Ln(t,e,Un),e);if(r){const r=Ln(t,e,Un);if(r!==Un)return this._equals(r,e)}return"function"==typeof this[e]?this[e](t,this):bn(Ln(this,e),t)}valueEquals(t,e){return this._equals(t,"value",e)}stageEquals(t,e){return this._equals(t,"stage",e)}nameEquals(t,e){return this._equals(t,"action",e)}equals(t,e){return this.nameEquals(t,e)&&this.stageEquals(t,e)&&this.valueEquals(t,e)}}Kn[F]=!0,Bn.EventFilter=Kn;const Jn=new Kn({action:"next",stage:"E_COMMIT"}),Xn=new Kn({action:"next",stage:"E_PRECOMMIT"});class Qn{constructor(t,e={}){this._valueSubject=new mt(t),this._eventTree=new Map($n),this._errorStream=(new _t).pipe(wt(t=>t.error&&t.error.message&&!t.message?{...t,message:t.error.message}:t));const{filter:r,name:n,debug:o=!1,finalize:i}=e;"function"==typeof r&&this.filter(r),this.name=n||"state_"+Math.random(),this.debug=o,"function"==typeof i&&this.finalize(i),this._watchEvents()}setStages(t,e){if(!Array.isArray(e)||!e.length)throw new Error("setStages requires a non-empty array");this._eventTree.set(t,e)}get _eventSubject(){return this._$eventSubject||(this._$eventSubject=new _t),this._$eventSubject}get _eventStream(){var t;return this._$eventStream||(this._$eventStream=(new _t).pipe(function t(e,r){return"function"==typeof r?function(n){return n.pipe(t((function(t,n){return zt(e(t,n)).pipe(wt((function(e,o){return r(t,e,n,o)})))})))}:function(t){return t.lift(new gn(e))}}(t=>new mt(t)),(t=()=>zt([Hn]),function(e){var r=new yn(t),n=e.lift(r);return r.caught=n}),Vt(t=>t instanceof Bn))),this._$eventStream}error(t,e){return Ln(t,"error")?this._errorStream.next({...t,target:this}):(this._errorStream.next({target:this,event:e,error:t}),this)}_watchEvents(){this.when(({valueStream:t})=>{this._updateValue(t.value),t.complete()},Jn)}_updateValue(t){this._valueSubject.next(t)}filter(t){return this.on(e=>{try{const r=t(e.value,e,this);e.next(r)}catch(t){e.error(t)}},"next","E_FILTER")}finalize(t){return this.when(t,Xn)}on(t,e="next",r="E_FILTER",n=Hn){if("function"!=typeof t)throw Gn("on() requires function",t);if(e instanceof Kn)return this.when(t,e);const o=new Kn({action:e,stage:r,value:n});return this.when(t,o)}when(t,e){if("function"!=typeof t)throw Gn("when() requires function",t);if(!(e instanceof Kn))throw Gn("cannot call when() without a formal event filter",e);const r=this;return this._eventStream.pipe(Vt(r=>{const n=e.matches(r);return this.debug&&n&&console.log("matched",r.toString(),"to:",t.toString()),n})).subscribe(e=>{this.debug&&console.log("doing ",e.toString(),t.toString()),t(e,r)}),this}send(t,e,r){const n=r||this._eventTree.get(t)||this._eventTree.get("A_ANY"),o=this._errorStream.next.bind(this._errorStream),i=new Bn(t,new mt(e),n[0]);i.subscribe({error:o}),zt(n).pipe(wt(t=>(i.stage=t,i)),Vt(t=>!t.isStopped)).subscribe({next:t=>this._eventStream.next(t)})}next(t){this.send("next",t)}get value(){return this._valueSubject.value}getValue(){return this._valueSubject.value}complete(){this._valueSubject.complete()}subscribe(t,e,r){if("object"==typeof t){const{next:e,error:r,complete:n}=t;return this.subscribe(e,r,n)}let n;"function"==typeof e&&(n=this._errorStream.subscribe(e));const o={complete:()=>{n&&(n.unsubscribe(),"function"==typeof r&&r())}};return"function"==typeof e&&(o.error=e),"function"==typeof t&&(o.next=t),this._valueSubject.subscribe(o)}pipe(...t){return this._valueSubject.pipe(...t)}}var Zn=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1};var to=function(t){return t!=t};var eo=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1};var ro=function(t,e,r){return e==e?eo(t,e,r):Zn(t,to,r)};var no=function(t,e){return!!(null==t?0:t.length)&&ro(t,e,0)>-1};var oo=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1},io=Math.min;var so=function(t,e,r){for(var n=r?oo:no,o=t[0].length,i=t.length,s=i,u=Array(i),a=1/0,c=[];s--;){var f=t[s];s&&e&&(f=Mn(f,Fr(e))),a=io(f.length,a),u[s]=!r&&(e||o>=120&&f.length>=120)?new ur(s&&f):void 0}f=t[0];var h=-1,l=u[0];t:for(;++h<o&&c.length<a;){var p=f[h],v=e?e(p):p;if(p=r||0!==p?p:0,!(l?cr(l,v):n(c,v,r))){for(s=i;--s;){var d=u[s];if(!(d?cr(d,v):n(t[s],v,r)))continue t}l&&l.push(v),c.push(p)}}return c};var uo=function(t){return t};var ao=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},co=Math.max;var fo=function(t,e,r){return e=co(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=co(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(s),ao(t,this,u)}};var ho=function(t){return function(){return t}},lo=function(){try{var t=Ne(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),po=lo?function(t,e){return lo(t,"toString",{configurable:!0,enumerable:!1,value:ho(e),writable:!0})}:uo,vo=Date.now;var bo=function(t){var e=0,r=0;return function(){var n=vo(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(po);var yo=function(t){return xr(t)&&Jr(t)};var _o=function(t){return yo(t)?t:[]};go=function(t){var e=Mn(t,_o);return e.length&&e[0]===t[0]?so(e):[]},bo(fo(go,mo,uo),go+"");var go,mo;const wo=new Kn({action:"next",stage:"E_INITIAL"}),Eo=new Kn({action:"next",stage:"E_MAP_MERGE"}),So=new Kn({action:Fn,stage:"E_PRECOMMIT"}),jo=new Kn({action:Fn,stage:"E_COMMIT"}),Oo=new Kn({action:Fn,stage:"E_RESTRICT"}),xo=Symbol("action:set");function Po(t){t.value instanceof Map||t.error("only accepts map values")}function Ao(t,e){const r=[...e.value.keys()];t.value.forEach((t,n)=>{if(!r.includes(n))throw Gn(`key ${n} must be present in ${r.join(", ")}`,e)})}const To=(t,e)=>{const r=new Map(e.value);t.value instanceof Map&&t.value.forEach((t,e)=>r.set(e,t)),t.complete(),e.send("next",r)},Mo=(t,e)=>{const r=new Map(e.value);t.value instanceof Map&&t.value.forEach((t,e)=>r.set(e,t)),t.next(r)};class Io extends Qn{constructor(t,e,...r){super(Yn(t),e,...r),this.fieldSubjects=new Map,this.setStages("next",qn),this.setStages(Fn,Vn),Ln(e,"noNewKeys")&&this.when(Ao,Oo),this._watchSet()}_watchSet(){this.when(Po,So),this.when(Mo,Eo),this.when(Po,wo),this.when(To,jo)}onField(t,e,r="E_PRECOMMIT"){const n=Array.isArray(e)?[...e]:[e],o=t=>{if(!(t instanceof Map))return!1;return[...t.keys()].filter(t=>n.includes(t)).length},i=new Kn(Fn,o,r);this.when(t,i);const s=new Kn({action:"next",stage:"E_PRE_MAP_MERGE",value:o,source:t=>t!==xo});this.when(t,s)}set(t,e,r){return t instanceof Map?this.send(Fn,t):!r&&this.fieldSubjects.has(t)?(this.fieldSubjects.get(t).next(e),this):this.send(Fn,new Map([[t,e]]))}get(t){return this.value.get(t)}get object(){return[...this.value.keys()].reduce((t,e)=>{try{t[e]=this.get(e)}catch(t){}return t},{})}_valueProxy(){return new Proxy(this,{get:(t,e)=>t.get(e),set:(t,e,r)=>t.set(e,r)})}get my(){return"undefined"!=typeof Proxy?(this._myProxy||(this._myProxy=this._valueProxy()),this._myProxy):this.object}}const Do=/^set(.+)$/i;return function(){function e(t,e){function r(){this.constructor=t}u(t,e),t.prototype=(r.prototype=e.prototype,new r)}function o(t){t.o||(t.D=new Map,t.o=new Map(t.t))}function i(t){t.o||(t.o=new Set,t.t.forEach((function(e){if(r(e)){var n=T(t.A.h,e,t);t.p.set(e,n),t.o.add(n)}else t.o.add(e)})))}function s(e){e.g&&t(3,JSON.stringify(c(e)))}var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},a=function(){function t(t,e){return this[V]={i:2,l:e,A:e?e.A:d(),P:!1,I:!1,o:void 0,D:void 0,t:t,k:this,C:!1,g:!1},this}e(t,Map);var i=t.prototype;return Object.defineProperty(i,"size",{get:function(){return c(this[V]).size}}),i.has=function(t){return c(this[V]).has(t)},i.set=function(t,e){var r=this[V];return s(r),c(r).has(t)&&c(r).get(t)===e||(o(r),P(r),r.D.set(t,!0),r.o.set(t,e),r.D.set(t,!0)),this},i.delete=function(t){if(!this.has(t))return!1;var e=this[V];return s(e),o(e),P(e),e.D.set(t,!1),e.o.delete(t),!0},i.clear=function(){var t=this[V];s(t),c(t).size&&(o(t),P(t),t.D=new Map,n(t.t,(function(e){t.D.set(e,!1)})),t.o.clear())},i.forEach=function(t,e){var r=this;c(this[V]).forEach((function(n,o){t.call(e,r.get(o),o,r)}))},i.get=function(t){var e=this[V];s(e);var n=c(e).get(t);if(e.I||!r(n))return n;if(n!==e.t.get(t))return n;var i=T(e.A.h,n,e);return o(e),e.o.set(t,i),i},i.keys=function(){return c(this[V]).keys()},i.values=function(){var t,e=this,r=this.keys();return(t={})[$]=function(){return e.values()},t.next=function(){var t=r.next();return t.done?t:{done:!1,value:e.get(t.value)}},t},i.entries=function(){var t,e=this,r=this.keys();return(t={})[$]=function(){return e.entries()},t.next=function(){var t=r.next();if(t.done)return t;var n=e.get(t.value);return{done:!1,value:[t.value,n]}},t},i[$]=function(){return this.entries()},t}(),f=function(){function t(t,e){return this[V]={i:3,l:e,A:e?e.A:d(),P:!1,I:!1,o:void 0,t:t,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return c(this[V]).size}}),r.has=function(t){var e=this[V];return s(e),e.o?!!e.o.has(t)||!(!e.p.has(t)||!e.o.has(e.p.get(t))):e.t.has(t)},r.add=function(t){var e=this[V];return s(e),this.has(t)||(i(e),P(e),e.o.add(t)),this},r.delete=function(t){if(!this.has(t))return!1;var e=this[V];return s(e),i(e),P(e),e.o.delete(t)||!!e.p.has(t)&&e.o.delete(e.p.get(t))},r.clear=function(){var t=this[V];s(t),c(t).size&&(i(t),P(t),t.o.clear())},r.values=function(){var t=this[V];return s(t),i(t),t.o.values()},r.entries=function(){var t=this[V];return s(t),i(t),t.o.entries()},r.keys=function(){return this.values()},r[$]=function(){return this.values()},r.forEach=function(t,e){for(var r=this.values(),n=r.next();!n.done;)t.call(e,n.value,n.value,this),n=r.next()},t}();!function(t,e){G[t]||(G[t]=e)}("MapSet",{T:function(t,e){return new a(t,e)},F:function(t,e){return new f(t,e)}})}(),{...Wn,addActions:(t,e)=>Object.assign(t,{addActions:e=>(Yn(e).forEach((e,r)=>{t.addAction(r,e)}),t),_actions:Yn(e),addAction:(e,r)=>"function"!=typeof r?(console.error("cannot add ",e," -- not a function",r),t):(t._actions.has(e)&&console.warn("redefining action",e),t._actions.set(e,r),t),get do(){return"undefined"==typeof Proxy?(t=>{const e={};return t._actions.forEach((r,n)=>{e[n]=(...e)=>r(t,...e)}),e})(t):(t._doProxy||(t._doProxy=(t=>new Proxy(t,{get(t,e){if(t._actions.has(e))return(...r)=>t._actions.get(e)(t,...r);if(t instanceof Io){const r=""+e;if(Do.test(r)){const[e,n]=Do.exec(r),o=n.substr(0,1).toLowerCase+n.substr(1);if(t.value.has(o))return e=>t.set(o,e);const i=n.toLowerCase(),s=[...t.value.keys()].reduce((t,e)=>t||("string"==typeof e?e.toLowerCase()===i&&e:void 0),!1);if(s)return e=>t.set(s,e)}}if(t.send)return(...r)=>{t.send("A_ACTION",{name:e,args:r})};throw Gn("no action "+e,t)}}))(t)),t._doProxy)}}),Event:Bn,EventFilter:Kn,ValueStream:Qn,ValueMapStream:Io,setProxy:function(t){if("undefined"!=typeof Proxy){return new Proxy(new Set,{get(e,r){if(r in e)return"function"==typeof e[r]?(...n)=>{t(r,n,Hn);const o=e[r].apply(e,n);return t(r,n,o),o}:e[r]}})}return new Set},addTrans:t=>Object.assign(t,{transStream:new mt(new Set),addTrans(e){const r=new Set(t.transStream.value);r.add(e),t.transStream.next(r);const n=()=>{t.finishTrans(e)};e.subscribe({complete:n,error:n})},subscribe:(...e)=>function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&rt(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(zt([e].concat(t)),new Rt(r))}}(t._valueSubject,t.transStream).pipe(wt(([t,e])=>[t,e.size]),Vt(([t,e])=>e<1),wt(([t])=>t)).subscribe(...e),finishTrans(e){const r=new Set(t.transStream.value);r.remove(e),t.transStream.next(r)}})}}));
